### 一. sed
`sed [-hnV][-e<script>][-f<script文件>][文本文件]`
1. 参数说明
	- `-e` 选项中指定的script来处理文本文件
	- `-f` 选项中指定的script文件处理的文本文件
	- -n 禁止sed编辑器输出，但可以与p命令一起使用完成输出
	- -i  直接在源文件中修改
	- -r , -E  使用扩展正则表达式
	- -s 将多个文件视为独立文件，而不是单个连续的长文件流

2. 动作说明
	- `a` 追加 , 在指定行上追加指定内容
	- c 更改 , 更改匹配行的内容
	- d 删除 , 删除匹配行的内容
	- i 插入 , 在指定的上一行插入一行指定内容
	- p 打印 , 常 p 会与参数 sed -n 一起运行
	- s 替换 , 替换匹配行的内容
		- g 全局, 替换时没有加这个只会替换找到的第一个
		

4. 实例
	1. **行新增和删除**
	```shell
[canti@localhost ~]$sed -i '2,5d' test.txt
## 删除test.txt中第2~5行的内容
[canti@localhost ~]$sed '2a Drink tea or ......\
drink beer ?' test.txt
## 在第二行增加Drink tea or ......和drink beer ?两行内容, 原本第二三行内容会变到第四五行
[canti@localhost ~]$nl test.txt | sed '3,$d'
## 删除第三行到最后一行的内容
[canti@localhost ~]sed '/^$/d' test.txt
## 删除文件中所有的空行
[canti@localhost ~]$sed -i '3i 10.159.185.40 sf.chtwo.com' /etc/hosts
## 在/etc/hosts 第三行插入10.159.185.40 sf.chtwo.com,本来在第三行的内容会变到下一行
[canti@localhost ~]$ nl test.txt | sed  '/oo/d'
## 删除包含oo的行,其他行输出
	```

	2. **替换与显示**

	```shell
[canti@localhost ~]$sed -i '79s#yes#no#g' /etc/ssh/sshd_config
## 把/etc/ssh/sshd_config文件第79行的yes改为no
[canti@localhost ~]&sed '2,5c No 2-5 number' test.txt
## 将test.txt中第2~5行的内容更改为No 2-5 number
[canti@localhost ~]&sed -n '5,7p' test.txt
## 打印5~7行的内容
[canti@localhost ~]&sed -n '/^root/p' test.txt
## 打印root开头的行
[canti@localhost ~]&nl test.txt | grep -n '/oo/p'
## 打印test.txt中包含oo的行
[canti@localhost ~]$sed -i 's/oo/kk/g' ./test*
## 将当前目录下所有test开头的文件中所有的oo替换成kk
[canti@localhost ~]$nl test.txt | sed 's/^.*addr://g' 
## 将任意字符任意个数开头, addr:结尾的字符串替换为空,{^}匹配开头, {.}匹配任意字符,{*}匹配任意次数
[canti@localhost ~]$sed -i 's/\.$/\!/g' test.txt
## 将test.txt中每一行以.结尾的字符替换为!
	 ```

	3. **数据搜索并执行指令**
	```shell
[canti@localhost ~]$nl testfile | sed -n '/oo/{s/oo/kk/;p;q}'
## 查找testfile中包含的oo的行,对这些行执行花括号里的命令,最后的{q}是退出
	```
	
	 4. **多点编辑**
	```shell
[canti@localhost ~]$nl testfile | sed -e '3,$d' -e 's/HELLO/RUNOOB/'
## 删除 testfile 第三行到末尾的数据，并把 HELLO 替换为 RUNOOB
	```