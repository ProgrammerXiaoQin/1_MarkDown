#python #正则
### 1.python re库
python re库是python用于[[11_正则 |正则]]表达式的三方库 , 一般我们编写正则的时候会在前面加r , 如`r'\bf[a-z]*'` 表示不对后面的字符串转义


### 2.函数和方法
1. **re.compile()**  创建一个正则表达式的对象，可以实现更有效率的复用

2. **re.findall(*'正则表达式'* , '匹配文本' , 修饰符)** 
 >匹配所有满足条件的字符串 , 如果没有组则以列表形式返回所有匹配的字符串 , 如果只有一个组则返回与该组匹配的字符串列表。如果有多个组，返回与这些组匹配的字符串元组列表。
```python
>>>re.findall(r'\bf[a-z]*', 'which foot or hand fell fastest')
['foot', 'fell', 'fastest']
>>>re.findall(r'(\w+)=(\d+)', 'set width=20 and height=10')
[('width', '20'), ('height', '10')]
```

3. **re.search(*'正则表达式'* , '匹配文本' , 修饰符)**
>扫描整个字符串,返回第一个匹配对象,  没有则返回`None`

4. **re.match(*'正则表达式'* , '匹配文本' , 修饰符)** 
>匹配字符串开头,返回匹配对象,  没有则返回`None`

5. 匹配对象Match
	- group() 返回一个或者多个匹配的子组.  一个参数则是一个字符串,多个则是一个元组（每个参数对应一个项）
	```python
	>>>m = re.match(r"(\w+) (\w+)", "Isaac Newton, physicist")
	>>>m.group(0)
	'Isaac Newton'
	>>>m.group(1)
	'Isaac'
	>>>m.group(2)
	'Newton'
	>>>m.group(1,2)
	('Isaac', 'Newton')
	
	# 命名组合
	>>>m = re.match(r"(?P<first_name>\w+) (?P<last_name>\w+)", "Malcolm Reynolds")
	>>>m.group('first_name')
	'Malcolm'
	>>>m.group('last_name')
	'Reynolds'
	```


### 3.正则表达式语法
1. **.**  匹配除换行符以外所有字符
2. **^** 匹配字符串开头
3. **$** 匹配字符串尾或者在字符串尾的换行符的前一个字符
4. _*_  对它前面的正则式匹配0到任意次， 尽量多的匹配字符串
5. **+**  对它前面的正则式匹配1到任意次
6. **?**  对它前面的正则式匹配0到1次
7. **{m}** 对其之前的正则式指定匹配 _m_ 个重复
8. **{m,n}** 对正则式进行 _m_ 到 _n_ 次匹配，在 _m_ 和 _n_ 之间取尽量多
9. **\\** 转义特殊字符
10. **[]** 用于表示一个字符集合。在一个集合中:
	-  字符可以单独列出，比如 `[amk]` 匹配 `'a'`， `'m'`， 或者 `'k'`。
	- 可以表示字符范围，通过用 `'-'` 将两个字符连起来。如`[a-z]`可以匹配任何小写字母,`[0-9A-Fa-f]` 将匹配任何十六进制数位
	- 特殊字符在集合中会失去其特殊意义。比如 `[(+*)]` 只会匹配这几个字面字符之一 `'('`, `'+'`, `'*'`, or `')'`。
	- 字符类如 `\w` 或者 `\S` 在集合内可以正常使用
	- 如果集合首字符是 `'^'` ,将匹配所有不在集合中的字符,  如如`[^5]` 将匹配5除外的所有字符, `[^^]` 将匹配所有字符
11. **|**   `A|B`， _A_ 和 _B_ 可以是任意正则表达式,匹配A或B,如果已经匹配到A将不会匹配Ｂ
12. **(...)**  组匹配,  匹配括号内的任意正则表达式
13. (?=…) 前视断言,  如`Isaac (?=Asimov)` 将会匹配后面跟着Asimov的 `'Isaac '` 
14. (?!…) 否前视断言,  如`Isaac (?!Asimov)` 将会匹配后面没有Asimov的 `'Isaac '` 
15. `(?P<name>…)` 命名组合,  ...匹配到的子串组在外部是通过定义的 _name_ 来获取

### 3.元字符
1. `\number`  匹配数字代表的组合。每个括号是一个组合，组合从1开始编号。比如 `(.+) \1` 可以匹配 `'the the'` 或者 `'55 55'`,  相当于`(.+) (.+)`
2. `\A`  只匹配字符串的开始
3. `\b` 匹配单词开始或结尾的空字符串,  通常用来定义`\w` 和 `\W` 字符之间，或者 `\w` 和字符串开始/结尾的边界边界.  如`r'\bfoo\b'` 匹配 `'foo'`, `'foo.'`, `'(foo)'`, `'bar foo baz'` 但不匹配 `'foobar'` 或者 `'foo3'`。
4. `\B`  匹配空字符串，但 _不_ 能在词的开头或者结尾.  如 `r'py\B'` 匹配 `'python'`, `'py3'`, `'py2'`, 但不匹配 `'py'`, `'py.'`, 或者 `'py!'`
5. `\d` 匹配任意数字
6. `\D` 匹配任何非十进制数字的字符.就是 `\d` 取非
7. `\s` 匹配任何空白字符,包括 `[ \t\n\r\f\v]`
8. `\S`  匹配任何非空白字符
9. `\w` 匹配`[A-Za-z0-9_]` (字母数字下划线)
10. `\W`  匹配所有非单词字符,与`\w` 想法
11. `\Z` 只匹配字符串尾。