#### 1. 路由的基本概念
1. **路由（Routing）**：指路由器根据目标地址选择最佳路径，将数据包从源转发到目的地的过程
2. **路由器（Router）**：网络层的设备，负责在不同网络之间转发数据包。它通过维护路由表（Routing Table）决定数据包的转发方向

#### 2.路由器工作过程
1. 解封数据包。当设备接收到一个数据包，它会解封装数据包首部的封装，来查看数据包的网络层头部封装信息，获得数据包的目的地址。
 2. 在路由表中查找匹配项。得到数据包的目的IP地址后，路由器用目的IP地址与路由表中各个条目的网络地址依次执行与运算，然后将运算的结果与路由表中相应路由条目的目的网络地址进行比较，如果一致表示该条目与目的地址相匹配。如：某数据包的目的IP地址是192.168.64.8，路由表中有一条路由的目的网络为192.168.64.0/24，那么这两个地址执行AND 运算的结果为192.168.64.0，这说明该条路由匹配这个数据包。
3. 从多个匹配项中选择掩码最长的条目。掩码越长表示这条路由与数据包目的IP地址越匹配，指示目的往往最精确
4. 将数据包按照相应路由条目发送出去

#### 3.路由表
|**字段**|**说明**|
|---|---|
|目标网络（Destination）|目标网络的IP地址（如 `192.168.1.0`）或默认路由（`0.0.0.0`）|
|子网掩码（Netmask）|目标网络的子网掩码（如 `255.255.255.0`）|
|下一跳（Gateway）|数据包要发送到的下一个路由器的IP地址（如 `192.168.0.1`）|
|接口（Interface）|数据包从哪个物理接口发出（如 `eth0` 或 `WAN`）|
|度量值（Metric）|路径的“成本”（如跳数、带宽、延迟），用于选择最优路径（数值越小优先级越高）|

#### 4. 静态路由配置
##### 1. 华为路由器：
1. `ip route-static <目标网络> <子网掩码> <下一跳IP或出接口> [优先级 preference] [描述 description]`
 注：优先级数值越小越优先 
2. `ip route-static 192.168.2.0 255.255.255.0 10.0.0.1`
 通过下一跳IP配置
3. `ip route-static 192.168.3.0 255.255.255.0 GigabitEthernet0/0/1`
 通过出接口配置静态路由。下一跳未知，直接指定出接口（适用于点对点网络，如PPP链路）
4. `ip route-static 0.0.0.0 0.0.0.0 203.0.113.1  # 指向ISP网关`
 默认路由
 
1. 其他相关命令
	1. `[sv] display ip routing-table` 查看路由表
		1.  `display ip routing-table <目标IP>` 查看路由表中去往某个IP具体条目
	2. `[sv] undo ip route-static 192.168.2.0 255.255.255.0 10.0.0.1` 删除已配置的静态路由

##### 2.Linux（iproute2包）
1. `ip route add <目标网络/子网掩码> via <下一跳IP> dev <接口名>`
2. `ip route add 192.168.2.0/24 via 10.0.0.1 dev eth0`   
 目标网络 192.168.2.0/24，下一跳 10.0.0.1，接口 eth0
3. `ip route add default via 203.0.113.1 dev eth0` 
 配置默认路由
 
4. 其他相关命令：
	1. `ip route del <目标网络/子网掩码>`  删除静态路由
	2. `ip route show` 查看路由表

注：通过命令只能临时配置，添加永久配置需要修改配置文件。如：Centos : `/etc/sysconfig/network-scripts/route-eth0`

##### 3.windows
1. 显示路由表 `route print`

2. 添加静态路由 `route add <目标地址> mask <子网掩码> <网关> [跳跃数]`
	1. `[跳跃数]` 可选
	2. `-p` 添加永久静态路由

3. 删除路由 `route delete <目标网络>`